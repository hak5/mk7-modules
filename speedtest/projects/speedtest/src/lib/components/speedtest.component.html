<mat-card>

    <mat-card-header>

        <mat-card-title>SpeedTest Module</mat-card-title>

        <mat-card-subtitle>Test the speed of the internet connection</mat-card-subtitle>

    </mat-card-header>

    <mat-card-content>

        <div>
            <p>
                <u>Network</u>
            </p>

            <ul>
                <li>
                    <b>Interface</b> : {{ network_interface }}
                </li>
                <li>
                    <b>Connected</b> : {{ (network_connected) ? 'OK' : 'NOK' }}
                </li>
            </ul>
        </div>

        <div *ngIf="network_status">
            <p>
                <u>Dependencies</u>
            </p>

            <ul>
                <li>
                    <b>python3-pip</b> : {{ (dependency_python3_pip) ? 'OK' : 'NOK' }}
                </li>
                <li>
                    <b>speedtest-cli</b> : {{ (dependency_speedtest_cli) ? 'OK' : 'NOK' }}
                </li>
            </ul>

            <button *ngIf="!dependency_python3_pip || !dependency_speedtest_cli" mat-flat-button color="warn" (click)="install_dependencies();">
                <span *ngIf="dependencies_status">Install dependencies</span>
                <span *ngIf="!dependencies_status">
                    <mat-spinner [diameter]="24"></mat-spinner>
                </span>
            </button>
        </div>

        <div *ngIf="network_status && dependency_python3_pip && dependency_speedtest_cli">
            <button mat-flat-button color="accent" (click)="start_speedtest();">
                <span *ngIf="speedtest_status">Start SpeedTest</span>
                <span *ngIf="!speedtest_status">
                    <mat-spinner [diameter]="24"></mat-spinner>
                </span>
            </button>

            <pre>{{ speedtest_output }}</pre>
        </div>

    </mat-card-content>

</mat-card>
